import{d as a,r as l,u as e,s as n,a as t,o as u,b as s,c as o,e as i,f as d,g as f,w as c,h as r,i as _,t as p,j as g,k as v,n as m,l as y,m as h,p as x,q as b,v as k,x as C,y as w}from"./index-1d0f9abe.js";import{_ as j}from"./u-button.82c84377.js";import{P as D,_ as A}from"./index.7425340c.js";import{f as I,a as M,b as q,c as z}from"./user.service.f0eb17f1.js";const E=A(a({__name:"index",setup(a){const A=l("Hello"),E=e(),{appName:G,userInfo:H}=n(E),N=l(!1),P=l(!1),T=l();t(),u((()=>{})),s((()=>{})),o((()=>{}));const{globalAppData:B,setGlobaApplData:F}=i();function J(){F({author:{age:Math.floor(9*Math.random()+20)}})}function K(){m({url:"/pages-h5/pages/home/index?id=2&name=xiaoming"})}function L(){m({url:"/pages-h5/pages/custom-navigation/index"})}function O(){m({url:"/pages-blog/index"})}function Q(){T.value=null,P.value=!0,I(+new Date).then((a=>{T.value=a})).catch((a=>{})).finally((()=>{P.value=!1}))}function R(){M()}async function S(){try{await q()}catch(a){}}async function U(){N.value=!0;try{await z()}catch(a){}finally{N.value=!1}}async function V(a=!0){try{await z({captureError:a,retryCount:0})}catch(l){a||y({title:"请求出错了(自定义错误)...",icon:"none"})}}return(a,l)=>{const e=h,n=x,t=b,u=k(C("u-button"),j),s=w;return d(),f(D,{class:"content",loading:P.value,"loading-text":"大爷请稍等...","fixed-header":""},{default:c((()=>[r(e,{class:"logo",src:"/static/logo.png"}),r(t,{class:"text-area"},{default:c((()=>[r(n,{class:"title"},{default:c((()=>[_(p(A.value)+" "+p(g(G)),1)])),_:1})])),_:1}),r(n,null,{default:c((()=>[_("\\n")])),_:1}),g(H).name&&g(H).age&&g(H).sex?(d(),f(t,{key:0},{default:c((()=>[_(" 来自App全局请求的数据： "),r(n,null,{default:c((()=>[_("\\n姓名："+p(g(H).name),1)])),_:1}),r(n,null,{default:c((()=>[_("\\n年龄："+p(g(H).age),1)])),_:1}),r(n,null,{default:c((()=>[_("\\n性别："+p(g(H).sex)+"\\n\\n",1)])),_:1})])),_:1})):v("v-if",!0),r(t,null,{default:c((()=>{var a,l;return[_(" globalData: "),r(t,null,{default:c((()=>[_(p(g(B).appTitle),1)])),_:1}),(null==(a=g(B).author)?void 0:a.name)?(d(),f(t,{key:0},{default:c((()=>[_(p(g(B).author.name),1)])),_:1})):v("v-if",!0),(null==(l=g(B).author)?void 0:l.age)?(d(),f(t,{key:1},{default:c((()=>[_(p(g(B).author.age),1)])),_:1})):v("v-if",!0)]})),_:1}),r(u,{style:{width:"200px"},type:"primary",shape:"circle",onClick:J},{default:c((()=>[_(" 修改globalData ")])),_:1}),r(n,null,{default:c((()=>[_("\\n")])),_:1}),T.value?(d(),f(t,{key:1,style:{color:"#999","font-size":"28rpx"}},{default:c((()=>[_(p(T.value),1)])),_:1})):v("v-if",!0),r(n,null,{default:c((()=>[_("\\n")])),_:1}),r(u,{loading:P.value,disabled:P.value,style:{width:"200rpx"},text:"成功请求",type:"success",shape:"circle",onClick:Q},null,8,["loading","disabled"]),r(n,null,{default:c((()=>[_("\\n")])),_:1}),r(s,{onClick:R},{default:c((()=>[_("业务状态码错误(疯狂点击取消重复请求)")])),_:1}),r(n,null,{default:c((()=>[_("\\n")])),_:1}),r(s,{onClick:S},{default:c((()=>[_("自定义业务错误钩子")])),_:1}),r(n,null,{default:c((()=>[_("\\n")])),_:1}),r(s,{loading:N.value,disabled:N.value,onClick:U},{default:c((()=>[_(" 服务器出错(自动重试) ")])),_:1},8,["loading","disabled"]),r(n,null,{default:c((()=>[_("\\n")])),_:1}),r(s,{onClick:l[0]||(l[0]=()=>V())},{default:c((()=>[_("全局拦截错误")])),_:1}),r(n,null,{default:c((()=>[_("\\n")])),_:1}),r(s,{onClick:l[1]||(l[1]=()=>V(!1))},{default:c((()=>[_("自定义错误(非全局拦截)")])),_:1}),r(n,null,{default:c((()=>[_("\\n")])),_:1}),r(s,{onClick:K},{default:c((()=>[_("去子包首页")])),_:1}),r(n,null,{default:c((()=>[_("\\n")])),_:1}),r(s,{onClick:L},{default:c((()=>[_("自定义导航栏页面")])),_:1}),r(n,null,{default:c((()=>[_("\\n")])),_:1}),r(u,{type:"primary",class:"u-btn",onClick:O},{default:c((()=>[_(" 打开webview ")])),_:1}),r(n,null,{default:c((()=>[_("\\n")])),_:1})])),_:1},8,["loading"])}}}),[["__scopeId","data-v-611e9c61"]]);export{E as default};
